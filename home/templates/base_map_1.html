{% load static %}
{% load i18n %}

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  
    <link rel="stylesheet" href="{% static 'footer.css' %}" >
    <link rel="stylesheet" href="{% static 'leaflet.css' %}" >
    <link rel="stylesheet" href="{% static 'plugins/L.Control.Pan.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/L.Control.Zoomslider.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/L.Control.MousePosition.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/L.Control.Sidebar.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/Leaflet.PolylineMeasure.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/easy-button.css' %}">
    <link rel="stylesheet" href="{% static 'css/animate.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/mycss.css' %}">
    <link href="{% static 'assets/css/style.css' %}" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="{% static 'front.css' %}">

    <script src="{% static 'leaflet-src.js' %}" ></script>
    <!-- <script src="src/jquery-3.2.0.min.js"></script> -->
    <script src="{% static 'plugins/L.Control.Pan.js' %}" ></script>
    <script src="{% static 'plugins/L.Control.Zoomslider.js' %}" ></script>
    <script src="{% static 'plugins/L.Control.MousePosition.js' %}"></script>
    <script src="{% static 'plugins/L.Control.Sidebar.js' %}"></script>
    <script src="{% static 'plugins/Leaflet.PolylineMeasure.js' %}"></script>
    <script src="{% static 'plugins/easy-button.js' %}"></script>
    <script src="{% static 'plugins/leaflet-providers.js' %}"></script>
    <script src="{% static 'plugins/leaflet-opencage/src/js/L.Control.OpenCageSearch.js' %}"></script>
    <!-- <script src="{% static 'app.js' %}"></script> -->
    <!-- <link rel="stylesheet" type="leaflet.wms.js" href="{% static 'css/component.css' %}"  /> -->
    <link rel="stylesheet" href="{% static 'mystyle.css' %}">
    <link rel= 'stylesheet' href="{% static 'css/component.css' %}">
    <script src="{% static 'plugins/leaflet.ajax.min.js' %}" ></script>
    <script src="{% static 'js/modernizr-custom.js' %}" ></script>
    <script src="{% static 'leaflet.wms.js' %}" ></script>

    <script src="{% static 'js/classie.js' %}"></script>
    <!-- <script src="js/dummydata.js"></script> -->
    <!-- <script src="src/js/main.js"></script> -->
    <script src="{% static 'js/main.js' %}"></script>
    <script src="{% static 'myscript.js' %}"></script>


    <!-- scripts for spinner -->

    <script src="{% static 'spin/spin.js'%}" ></script>
    <script src="{% static 'leaflet.spin.min.js' %}"></script>

<!-- font-awesome -->
<script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


<!-- script for leaflet font awesome-->
<script src = "{% static 'leaflet.awesome-markers.js' %}"></script>
<link rel="stylesheet" href="{% static 'leaflet.awesome-markers.css' %}">



<!-- leaflet-messagebox-->
<script src = "{% static 'leaflet-messagebox.js' %}"></script>
<link rel="stylesheet" href="{% static 'leaflet-messagebox.css' %}">

 <!-- leaflet-measure-->
<script src = "{% static 'leaflet_measure/leaflet.measure.js' %}"></script>
<link rel="stylesheet" href="{% static 'leaflet_measure/leaflet.measure.css' %}">


<!-- leaflet-search -->
<script src = "{% static 'leaflet-search/leaflet-search.src.js' %}"></script>
<link rel="stylesheet" href="{% static 'leaflet-search/leaflet-search.src.css' %}">


<!-- leaflet minimap -->
<script src = "{% static 'leaflet-minimap/Control.MiniMap.min.js' %}"></script>
<link rel="stylesheet" href="{% static 'leaflet-minimap/Control.MiniMap.min.css' %}">
 


<!-- leaflet lagend graphic -->

<script src = "{% static 'leaflet-legend-graphics/leaflet.wmslegend.js' %}"></script>
<link rel="stylesheet" href="{% static 'leaflet-legend-graphics/leaflet.wmslegend.css' %}">

<!-- <link rel="stylesheet" href=""/>
<script src="leaflet-legend-graphics/leaflet.wmslegend.js"></script> -->

<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


</head>

  <body>
<style>
body {
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  margin: 0;
}
.full-height {
  height: 100vh;
}

.header {
    height: 50px;
}

.mobileShow {display: none;}

  /* Smartphone Portrait and Landscape */
  @media only screen
    and (min-device-width : 320px)
    and (max-device-width : 480px){ 
      .mobileShow {display: inline;}
  }

  .logo-img{
    width: 300px !important;
    height: 50px !important;
  }

  .project-title{
    color: #000000;
    font-size: 20px;
    margin-right: 100px;
    text-align: center;
}

img{
  height:auto;
}


  </style>
  <nav style="position:static;" class="navbar navbar-expand-sm navbar-dark flex-column align-items-stretch">
        
    <div class=" d-flex align-items-center" style="justify-content: space-evenly; ">
        <!-- <img class="header-left" src="{% static 'images/IDFC_FIRST_Bank_logo.jpg' %}" style="height: 60px; width: 120px;overflow: hidden;"> -->
        <img class="header-left" src="{% static 'logowwcd.png' %}" style="height:auto; width: 10%;overflow: hidden;">
        <img class="header" src="{% static 'WCD_Logo_PNG.png' %}" style="height:auto; width: 10%;overflow: hidden;">
        <img class="header" src="{% static 'mhgov.png' %}" style="height:auto; width: 10%;overflow: hidden;">
        <h3 style="color:white;height: 25%; width: 25%;">Maharashtra: Women & Child Development</h3>
    </div>
        
    </div>
    <div>
        <!-- {{ Visitor_count }} -->
    </div>
    <nav class ="nav-menu d-none d-lg-block">
        <ul class="navbar-nav">
            <li class="nav-item">
            <a href="{% url 'homepage' %}" class="nav-link text-white" >{% trans "Home" %}</a>
            </li>
            <li class="nav-item">
                <a href="{% url 'aboutus' %}" class="nav-link text-white">{% trans "About Us" %}</a>
            </li>
            <li class="nav-item">
                <a href="{% url 'map' %}" class="nav-link text-white">{% trans "Maps" %}</a>
            </li>
            
            <li class="nav-item">
                <a href="{% url 'contact' %}" class="nav-link text-white">{% trans "Contact Us" %}</a>
            </li>
<!--        -->

        
        <!-- hitwebcounter Code START -->
<!-- <a href="https://www.hitwebcounter.com" target="_blank">
<img src="https://hitwebcounter.com/counter/counter.php?page=7818435&style=0001&nbdigits=5&type=ip&initCount=0" title="Free Counter" Alt="web counter"   border="0" /></a>    -->
<!-- <h5 class="nav-item text-white" style ="float: right;line-height: 2.0;"> &nbsp;&nbsp; {% trans "Visitors Count" %} : {{ Visitor_count }} </h5> -->
    </ul>
    
    </nav>
</nav>


<div class="full-height">
  <div style="height: 100%;" >
    <div style="flex-direction: column; height:100%;">
      <div id="mapdiv" style="height: 100%;" class="col-12"></div>
      <div>
      
         <!-- ======= Footer ======= -->
          
         <!-- <footer class="text-center text-white " style="background-color: #21081a;bottom: 0px;"> -->
             <!-- <footer class="text-center text-white fixed-bottom" style="background-color: #21081a;bottom: 0px;"> -->
              <footer class="text-center text-white" style="background-color: #21081a;bottom: 0px;:">
             
                <!-- Copyright -->
                  <!-- <div class="text-justify p-3" style="background-color: rgba(0, 0, 0, 0.2);"raj> -->
                  <div class="p-3" style="background-color: rgba(127, 232, 21, 0.571);">
                      
                      <a class="text-white"><p>Developed by 'SAMANVAY' using FOSS project</p>
                      <p> Software Developer : Monika Shah (Prop: SAMANVAY and consultant at CTARA, IIT-B) </p>
                      </a>
                  </p>
                  </div>
                  <!-- Copyright -->
                  </footer>
                  <!-- End #footer -->
                </div>
      
    </div>

  </div>

</div>

<script>

var mymap;
var source = L.wms.source(
      "https://geonode.communitygis.in/geoserver/geonode/wms",
      {
          "layers": 'geonode:states_in_india',
          "format": "image/png",
          "transparent": "true"
      }        
  );
  // source.addTo(mymap);
  mymap = L.map('mapdiv', {
    center:[19.0760, 84.8777], 
    zoom:5, zoomControl:false, 
    attributionControl:false,
    messagebox: true,
    contextmenu: true,
    measureControl: false
  });
  mymap.messagebox.options.timeout = 5000;
  mymap.messagebox.setPosition("bottomright");
  lyrOSM = L.tileLayer.provider('OpenStreetMap.Mapnik');
  lyrOSM2 = L.tileLayer.provider('OpenStreetMap.Mapnik');
  lyrImagery = L.tileLayer.provider('Esri.WorldImagery');
  mymap.addLayer(lyrOSM);
  // var miniMap = new L.Control.MiniMap(lyrOSM2, { toggleDisplay: true }).addTo(mymap);
//  var miniMap = new L.Control.MiniMap(lyrOSM).addTo(mymap);
// var layer = 'Maharastra_All_District_Total_Households_Cenc'
//   var wms = L.tileLayer.wms('https://geonode.communitygis.in/geoserver/wms', {
// 				// layer: layer,
//         layers: 'Maharastra_All_District_Total_Households_Cenc',
// 				format: 'image/png',
// 				transparent: 'true',
//         style: ""
//         // zoom: 14,
//         // currentPos: [19.7515, 75.7139],
//         // cql_filter: 'state=Maharashtra'
// 	});
  var wms = L.tileLayer.wms('https://geoserver2.communitygis.net/geoserver/wms', {
                                        layers: 'geonode:states_in_india',
                                        format: 'image/png',
                                        transparent: 'true',
                                        // version: '1.3.0',
                                        cql_filter: "state='Maharashtra'",
                                        style: ""
                                    });
  wms.addTo(mymap);
  mymap.setView([19.000, 74.999],7);
  // addWMSLegendfromgeo(layer);
function round(value, precision) {
    var multiplier = Math.pow(10, precision || 0);
    return Math.round(value * multiplier) / multiplier;
}


function copyToClipboard(text) {
    var dummy = document.createElement("textarea");
    // dummy.style.display = 'none'
    document.body.appendChild(dummy);
    dummy.value = text;
    dummy.select();
    document.execCommand("copy");
    document.body.removeChild(dummy);
}

mymap.on('contextmenu',function(e){
  copyToClipboard(e.latlng.lat+","+e.latlng.lng);
  mymap.messagebox.show("<h6>Latitude:<b>"+round(e.latlng.lat,4)+"</b> Longitude:<b>"+round(e.latlng.lng,4)+"</b> copied to clipboard</h6>");
});



$('.select').click(function () {
  $(this).toggleClass('highlight')
})
</script>
  
{% block content%}
{% endblock %}
<script>
  
  
  
  $("#closebutton").click(function(){
  ctlSidebar.toggle();
});
 
  
  
  objBasemaps = {
      "Open Street Maps": lyrOSM,
      "Imagery":lyrImagery
  };
  
  objOverlays = {
  };
  
  // var ctlLayers = L.control.layers(objBasemaps, objOverlays).addTo(mymap);
  var ctlSidebar = L.control.sidebar('side-bar').addTo(mymap);
  // var ctlPan = L.control.pan().addTo(mymap);

  var ctlEasybutton = L.easyButton('fa fa fa-bars', function(){
      ctlSidebar.toggle(); 
  }).addTo(mymap);
  ctlSidebar.show();

  var ctlZoomslider = L.control.zoomslider({position:'topright'}).addTo(mymap);
  
  ctlAttribute = L.control.attribution({position:'bottomleft'}).addTo(mymap);

  

      
</script>
          

  
  
        </body>
</html>
